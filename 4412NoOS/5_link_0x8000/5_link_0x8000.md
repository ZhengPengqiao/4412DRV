# 5_link_0x8000

> 这里为了学习重定向,先不涉及DRAM的初始化和使用,仅仅将程序重定向到IRAM中的别的位置运行

## 链接脚本的含义

```C
    SECTIONS
    {
        . = 0x02028000;

        .text : {
            start.o
            * (.text)
        }

        .data : {
            * (.data)
        }

        bss_start = .;
        .bss : {
            * (.bss)
        }

        bss_end  = .;
    }
```

* 解释
  * 在链接脚本中,单独的点号(.)代表了当前位置, . = 0x02028000;  是 0x02028000;表示程序的链接地址
  * link.lds 中的.text 、 .data 、 .bss 分别是 text 段、data 段、bss 段的段名(这些段名并不是固定的,是可以随便起的)。.text 段包含的内容是 start.o 和其余代码中所有的 text段;.data 段包含的内容是代码中所有的 data 段;.bss 段包含的内容是代码中所有的 bss 段。
  * bss_start 和 bss_end 保存的是 bss 段的起始地址和结束地址,在 start.S 中会被用到。
* 下面解释一下什么是 data、text、bss 段:
  * data 段:数据段(datasegment)通常是指用来存放程序中已初始化的全局变量的一块内存区域。数据段属于静态内存分配。
  * text 段:代码段通常是指用来存放程序执行代码的一块内存区域。这部分区域的大小在程序运行前就已经确定,并且内存区域通常属于只读,某些架构也允许代码段为可写,即允许修改程序。在代码段中,也有可能包含一些只读的常数变量,例如字符串常量等。
  * bss 段:指用来存放程序中未初始化的全局变量的一块内存区域。 BSS 是英文 BlockStarted bySymbol 的简称。当我们的程序有全局变量时,它是放在 bss 段的,由于全局变量默认初始值都是0,所有我们需要手动清 bss 段。