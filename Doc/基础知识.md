# 学习4412的基础知识

## Exynos4412芯片是三星自家用的，所以很多资料是不公开的，包括datasheet也是不公开的。 三星有一份公开的4412的datasheet,不过并不是很完全，不过用于开发已经够了。

## Exynos4412没有mac控制器，在tiny4412开发板上，网卡以前都是连接在Local Bus(内存总线)，这个板子上网卡是接在USB上的。

## 下载代码工具

* 和PC连接有串口线， USB线， 电源线。
* 串口可以使用minicom, 也可以使用secureCRT.
* 下载工具使用Dnw进行下载。

## 在官方的uboot中，MMU是被打开的，所以如果想要运行逻辑程序（编写代码的时候不知道映射地址的位置），需要将MMU关闭。

* 修改之前查看uboot代码的连接地址： cat System.map
    ```C
        c3e00000 T _start
        c3e00020 t _undefined_instruction
        c3e00024 t _software_interrupt
        c3e00028 t _prefetch_abort
        c3e0002c t _data_abort
        c3e00030 t _not_used
        c3e00034 t _irq
        c3e00038 t _fiq
        c3e0003c t _pad
        c3e00040 T _TEXT_BASE
        c3e00040 T _end_vect
        c3e00044 T _bss_start_ofs
        c3e00048 T _bss_end_ofs
        c3e0004c T IRQ_STACK_START_IN
        c3e00050 t reset
        c3e00064 t call_board_init_f
        c3e00074 T relocate_code
        c3e00080 t stack_setup
        c3e000a0 t copy_loop
        c3e000d0 t fixloop
        c3e000f4 t fixabs
        c3e00108 t fixrel
        c3e00110 t fixnext
        c3e00120 t clear_bss
    ```
* 可以看出来链接在c3e00000地址处
* 以下是修改位置：
    1. 修改位置： vim include/configs/tiny4412.h
        ```C
            修改前：#define CONFIG_ENABLE_MMU
            修改为：#undef CONFIG_ENABLE_MMU
        ```
    1. 修改位置：vim ./board/samsung/tiny4412/config.mk
        ```C
            修改前： CONFIG_SYS_TEXT_BASE = 0xc3e00000
            修改为： CONFIG_SYS_TEXT_BASE = 0x43e00000
        ````
* 修改之前查看uboot代码的连接地址： cat System.map
    ```C
        43e00000 T _start
        43e00020 t _undefined_instruction
        43e00024 t _software_interrupt
        43e00028 t _prefetch_abort
        43e0002c t _data_abort
        43e00030 t _not_used
        43e00034 t _irq
        43e00038 t _fiq
        43e0003c t _pad
        43e00040 T _TEXT_BASE
        43e00040 T _end_vect
        43e00044 T _bss_start_ofs
        43e00048 T _bss_end_ofs
        43e0004c T IRQ_STACK_START_IN
        43e00050 t reset
        43e00064 t call_board_init_f
        43e00074 T relocate_code
        43e00080 t stack_setup
        43e000a0 t copy_loop
        43e000d0 t fixloop
        43e000f4 t fixabs
        43e00108 t fixrel
        43e00110 t fixnext
        43e00120 t clear_bss
        43e0013c t clbss_l
        43e0014c t jump_2_ram
    ```
* 可以看出来链接在43e00000地址处

* 板子的内存地址从:
    ```C
        0x4000 0000 - 5000 0000   : 256MB
        0x5000 0000 - 6000 0000   : 256MB
        0x6000 0000 - 7000 0000   : 256MB
        0x7000 0000 - 8000 0000   : 256MB
        总共1G内存可以使用。
    ```
